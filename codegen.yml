# GraphQL Code Generator Configuration
# https://the-guild.dev/graphql/codegen/docs/getting-started

# The GraphQL schema location
# Update this URL when your backend GraphQL endpoint is ready
schema: ${GRAPHQL_SCHEMA_URL:http://localhost:4000/graphql}

# Documents (queries, mutations, subscriptions) to process
documents:
  - 'src/**/*.{ts,tsx}'
  - 'src/graphql/**/*.ts'

# Output configuration
generates:
  # Generate TypeScript types from schema + operations
  src/graphql/generated.ts:
    plugins:
      - 'typescript'
      - 'typescript-operations'
      - 'typescript-react-apollo'
    config:
      # Generate React hooks for queries and mutations
      withHooks: true
      withHOC: false
      withComponent: false

      # Type options
      skipTypename: false
      enumsAsTypes: true
      constEnums: false

      # Import options
      useTypeImports: true

      # Naming conventions
      namingConvention:
        typeNames: pascal-case#pascalCase
        enumValues: keep

      # Add descriptions to generated types
      addDocBlocks: true

      # Make all input types have optional fields by default
      inputMaybeValue: T | null | undefined

# Hooks for pre/post generation
hooks:
  afterAllFileWrite:
    - prettier --write

# Configuration
config:
  # Validate documents against schema
  skipDocumentsValidation: false

  # Fail on deprecated field usage
  onlyOperationTypes: false
